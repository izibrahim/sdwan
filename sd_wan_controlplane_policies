Key Concepts

Policy role: Main job of an SD-WAN engineer (‚âà70% of work) ‚Üí tweak and control traffic flow in the fabric.

Two traffic categories:

Control plane policies ‚Üí affect OMP updates (between vSmart ‚Üî routers).

Data plane policies ‚Üí affect user/application traffic (between routers).

üìå Policy Types

1 - Centralized Policies

Configured in vManage, enforced by vSmart.

Affect the entire SD-WAN fabric.

Examples:

Centralized control: Influence OMP routes/updates globally.

Centralized data: Influence data traffic across all routers (QoS, service chaining, firewalling, traffic engineering, app-aware routing, etc.).

2- Localized Policies

Applied on a specific device only.

Examples:

Localized control: vSmart ‚Üî single router OMP updates.

Localized data: ACLs, QoS, shaping/policing, applied to one router.

=====
üõ† Policy Configuration ‚Äì Step by Step
Step 1 ‚Äì Classify the Traffic (Group of Interest)

Decide what traffic you want to control.

Build ‚Äúgroups of interest‚Äù such as:

Applications (NBAR2 up to ~1400 apps)

IP prefixes (IPv4 / IPv6)

Sites (site list)

VPNs (VPN list)

TLOCs (system IP, color, encapsulation, preference)

Communities, Data prefixes, Policers etc.

‚û°Ô∏è This step = identifying which traffic to match.

Step 2 ‚Äì Define the Action (Policy Definition)

Depending on control or data traffic, you configure one of these:

2a ‚Äì Control Plane Policy

Focus: OMP updates (routing/control information).

Actions include:

Topology: Hub-and-Spoke, Mesh, Partial Mesh.

VPN membership: Define which sites belong to which VPNs.

2b ‚Äì Data Plane Policy

Focus: actual application/data traffic.

Actions include:

Application-aware routing

Traffic engineering (TE)

QoS (priority, shaping, policing)

Firewall rules / ACLs

Service chaining (redirect to services like firewall/IDS)

Cflowd (flow monitoring)

‚ö†Ô∏è You do not configure both 2a and 2b together ‚Üí choose one type depending on the traffic.

Step 3 ‚Äì Apply and Activate Policy

After definition, apply the policy to sites or VPNs.

In Centralized Policy:

Policy is pushed via vManage.

Enforced by vSmart across the entire fabric.

In Localized Policy:

Policy is applied only on a specific device.

Finally, click Activate in vManage ‚Üí policy takes effect.

‚úÖ Summary Flow:
Classify ‚Üí Define Action ‚Üí Apply & Activate

üîë Cisco SD-WAN Policy Types
1. Centralized Control Policy

Where: Configured on vSmart (never pushed to WAN Edges).

Effect: Modifies routing information in vSmart‚Äôs RIB and what OMP routes it advertises.

Impact: Influences network-wide routing decisions and how WAN Edges forward overlay data traffic.

2. Centralized Data Policy

Where: Configured on vSmart, but pushed to WAN Edge routers.

Effect: Controls data traffic across the VPNs in the fabric.

Criteria: 6-tuple (Src/Dst IP, Src/Dst Port, Protocol, DSCP) or VPN membership.

Examples: Traffic filtering, segmentation, app-aware routing, QoS.

3. Localized Control Policy (Route Policy)

Where: Configured directly on a WAN Edge router.

Effect: Affects site-local routing behavior (route filtering, redistribution, preference, etc.).

4. Localized Data Policy

Where: Configured directly on a WAN Edge router.

Effect: Controls traffic at the interface level.

Capabilities:

ACLs (6-tuple match like centralized data)

Class of Service (CoS)

Policing

Mirroring

Interface queue control

